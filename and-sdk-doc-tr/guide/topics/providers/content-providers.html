<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
































































<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico" />
<title>Content Providers | Android Developers</title>
<link href="../../../assets/android-developer-docs-devguide.css" rel="stylesheet" type="text/css" />
<script src="../../../assets/search_autocomplete.js" type="text/javascript"></script>
<script src="../../../assets/jquery-resizable.min.js" type="text/javascript"></script>
<script src="../../../assets/android-developer-docs.js" type="text/javascript"></script>
<script type="text/javascript">
  setToRoot("../../../");
</script>
<noscript>
  <style type="text/css">
    html,body{overflow:auto;}
    #body-content{position:relative; top:0;}
    #doc-content{overflow:visible;border-left:3px solid #666;}
    #side-nav{padding:0;}
    #side-nav .toggle-list ul {display:block;}
    #resize-packages-nav{border-bottom:3px solid #666;}
  </style>
</noscript>
</head>

<body class="gc-documentation">

  <div id="header">
      <div id="headerLeft">
          <a href="../../../index.html" tabindex="-1"><img
              src="../../../assets/images/bg_logo.png" alt="Android Developers" /></a>
          <ul id="header-tabs" class="guide">
    
	<li id="home-link"><a href="../../../offline.html">
	
		<span class="en">Home</span>
		<span style="display:none" class="de">Startseite</span>
		<span style="display:none" class="es"></span>
		<span style="display:none" class="fr"></span>
		<span style="display:none" class="it"></span>
    <span style="display:none" class="ja">ホーム</span>
		<span style="display:none" class="zh-CN">主页</span>
		<span style="display:none" class="zh-TW">首頁</span>
	
	</a></li>
	<li id="sdk-link"><a href="../../../sdk/index.html">
		<span class="en">SDK</span>
	</a></li>
	<li id="guide-link"><a href="../../../guide/index.html" onClick="return loadLast('guide')">
	
		<span class="en">Dev Guide</span>
		<span style="display:none" class="de">Handbuch</span>
		<span style="display:none" class="es">Guía</span>
		<span style="display:none" class="fr">Guide</span>
		<span style="display:none" class="it">Guida</span>
    <span style="display:none" class="ja">開発ガイド</span>
		<span style="display:none" class="zh-CN">开发人员指南</span>
		<span style="display:none" class="zh-TW">開發指南</span>
	
	</a></li>
	<li id="reference-link"><a href="../../../reference/packages.html" onClick="return loadLast('reference')">
	
		<span class="en">Reference</span>
		<span style="display:none" class="de">Referenz</span>
		<span style="display:none" class="es">Referencia</span>
		<span style="display:none" class="fr">Référence</span>
		<span style="display:none" class="it">Riferimento</span>
    <span style="display:none" class="ja">リファレンス</span>
		<span style="display:none" class="zh-CN">参考</span>
		<span style="display:none" class="zh-TW">參考資料</span>
	
	</a></li>
	<li><a href="http://android-developers.blogspot.com" onClick="return requestAppendHL(this.href)">
	
		<span class="en">Blog</span>
		<span style="display:none" class="de"></span>
		<span style="display:none" class="es"></span>
		<span style="display:none" class="fr"></span>
		<span style="display:none" class="it"></span>
    <span style="display:none" class="ja">ブログ</span>
		<span style="display:none" class="zh-CN">博客</span>
		<span style="display:none" class="zh-TW">網誌</span>
	
	</a></li>
	<li id="videos-link"><a href="../../../videos/index.html" onClick="return loadLast('videos')">
	
		<span class="en">Videos</span>
		<span style="display:none" class="de"></span>
		<span style="display:none" class="es"></span>
		<span style="display:none" class="fr"></span>
		<span style="display:none" class="it"></span>
    <span style="display:none" class="ja">ビデオ</span>
		<span style="display:none" class="zh-CN"></span>
		<span style="display:none" class="zh-TW"></span>
	
	</a></li>
	<li id="community-link"><a href="../../../community/index.html">
	
		<span class="en">Community</span>
		<span style="display:none" class="de"></span>
		<span style="display:none" class="es">Comunidad</span>
		<span style="display:none" class="fr">Communauté</span>
		<span style="display:none" class="it"></span>
    <span style="display:none" class="ja">コミュニティ</span>
		<span style="display:none" class="zh-CN">社区</span>
		<span style="display:none" class="zh-TW">社群</span>
	
	</a></li>
     
</ul>
     
      </div>
      <div id="headerRight">
          <div id="headerLinks">
          
          <a href="http://www.android.com">Android.com</a>
          </div>
  <div id="search" >
      <div id="searchForm">
          <form accept-charset="utf-8" class="gsc-search-box" 
                onsubmit="return submit_search()">
            <table class="gsc-search-box" cellpadding="0" cellspacing="0"><tbody>
                <tr>
                  <td class="gsc-input">
                    <input id="search_autocomplete" class="gsc-input" type="text" size="33" autocomplete="off"
                      title="search developer docs" name="q"
                      value="search developer docs"
                      onFocus="search_focus_changed(this, true)"
                      onBlur="search_focus_changed(this, false)"
                      onkeydown="return search_changed(event, true, '../../../')"
                      onkeyup="return search_changed(event, false, '../../../')" />
                  <div id="search_filtered_div" class="no-display">
                      <table id="search_filtered" cellspacing=0>
                      </table>
                  </div>
                  </td>
                  <td class="gsc-search-button">
                    <input type="submit" value="Search" title="search" id="search-button" class="gsc-search-button" />
                  </td>
                  <td class="gsc-clear-button">
                    <div title="clear results" class="gsc-clear-button">&nbsp;</div>
                  </td>
                </tr></tbody>
              </table>
          </form>
      </div><!-- searchForm -->
  </div><!-- search -->
      </div><!-- headerRight -->
      <script type="text/javascript">
        <!--  
        changeTabLang(getLangPref());
        //-->
      </script>
  </div><!-- header -->

  <div class="g-section g-tpl-240" id="body-content">
    <div class="g-unit g-first side-nav-resizable" id="side-nav">
      <div id="devdoc-nav">
<ul>

  <li>
    <h2><span class="en">Android Basics</span>
        <span class="de" style="display:none">Einführung in Android</span>
        <span class="es" style="display:none">Información básica sobre Android</span>
        <span class="fr" style="display:none">Présentation d'Android</span>
        <span class="it" style="display:none">Nozioni di base su Android</span>
        <span class="ja" style="display:none">Android の基本</span>
        <span class="zh-CN" style="display:none">Android 基础知识</span>
        <span class="zh-TW" style="display:none">Android 簡介</span>
    </h2>
    <ul>
      <li><a href="../../../guide/basics/what-is-android.html">
        <span class="en">What Is Android?</span>
        <span class="de" style="display:none">Was ist Android?</span>
        <span class="es" style="display:none">¿Qué es Android?</span>
        <span class="fr" style="display:none">Qu'est-ce qu'Android&nbsp;?</span>
        <span class="it" style="display:none">Che cos'è Android?</span>
        <span class="ja" style="display:none">Android とは</span>
        <span class="zh-CN" style="display:none">Android 是什么？</span>
        <span class="zh-TW" style="display:none">什麼是 Android？</span>
          </a></li>

  <!--  <li><a style="color:gray;">The Android SDK</a></li> -->
  <!--  <li><a style="color:gray;">Walkthrough for Developers</a></li> -->
      <!-- quick overview of what it's like to develop on Android -->
    </ul>
  </li>
  
  <li>
    <h2>
      <span class="en">Framework Topics</span>
      <span class="de" style="display:none">Framework-Themen</span>
      <span class="es" style="display:none">Temas sobre el framework</span>
      <span class="fr" style="display:none">Thèmes relatifs au framework</span>
      <span class="it" style="display:none">Argomenti relativi al framework</span>
      <span class="ja" style="display:none">フレームワーク トピック</span>
      <span class="zh-CN" style="display:none">框架主题</span>
      <span class="zh-TW" style="display:none">架構主題</span>
    </h2>
    <ul>
      <li><a href="../../../guide/topics/fundamentals.html">
            <span class="en">Application Fundamentals</span>
            <span class="de" style="display:none">Anwendungsgrundlagen</span>
            <span class="es" style="display:none">Fundamentos de las aplicaciones</span>
            <span class="fr" style="display:none">Principes de base des applications</span>
            <span class="it" style="display:none">Concetti fondamentali sulle applicazioni</span>
            <span class="ja" style="display:none">開発の基礎</span>
            <span class="zh-CN" style="display:none">应用程序基础</span>
            <span class="zh-TW" style="display:none">應用程式基本原理</span>

          </a></li>
    </ul>
    <ul>
      <li class="toggle-list">
        <div><a href="../../../guide/topics/ui/index.html">
               <span class="en">User Interface</span>
             </a></div>
        <ul>
          <li><a href="../../../guide/topics/ui/declaring-layout.html">
               <span class="en">Declaring Layout</span> 
              </a></li>
          <li><a href="../../../guide/topics/ui/menus.html">
               <span class="en">Creating Menus</span> 
              </a></li>
          <li><a href="../../../guide/topics/ui/dialogs.html">
                <span class="en">Creating Dialogs</span> 
              </a></li>
          <li><a href="../../../guide/topics/ui/ui-events.html">
                <span class="en">Handling UI Events</span> 
              </a></li>
          <li><a href="../../../guide/topics/ui/notifiers/index.html">
                <span class="en">Notifying the User</span> 
              </a></li>
          <li><a href="../../../guide/topics/ui/themes.html">
                <span class="en">Applying Styles and Themes</span> 
              </a></li>
          <li><a href="../../../guide/topics/ui/custom-components.html">
                <span class="en">Building Custom Components</span> 
              </a></li>
          <li><a href="../../../guide/topics/ui/binding.html">
                <span class="en">Binding to Data with AdapterView</span> 
              </a></li>
          <li><a href="../../../guide/topics/ui/layout-objects.html">
                <span class="en">Common Layout Objects</span> 
              </a></li>
          <li><a href="../../../guide/topics/ui/how-android-draws.html">
                <span class="en">How Android Draws Views</span> 
              </a></li>
        </ul>
      </li>
      <li class="toggle-list">
        <div><a href="../../../guide/topics/resources/index.html">
               <span class="en">Resources and Assets</span> 
             </a></div>
        <ul>
          <li><a href="../../../guide/topics/resources/resources-i18n.html">
                <span class="en">Resources and I18n</span>
              </a></li>
          <li><a href="../../../guide/topics/resources/available-resources.html">
                <span class="en">Available Resource Types</span>
              </a></li>
          <li><a href="../../../guide/topics/resources/localization.html">
                <span class="en">Localization</span>
              </a></li>
        </ul>
      </li>
      <li><a href="../../../guide/topics/intents/intents-filters.html">
            <span class="en">Intents and Intent Filters</span>
          </a></li>
      <li><a href="../../../guide/topics/data/data-storage.html">
            <span class="en">Data Storage</span>
          </a></li>
      <li><a href="../../../guide/topics/providers/content-providers.html">
            <span class="en">Content Providers</span>
          </a></li>
      <li><a href="../../../guide/topics/security/security.html">
            <span class="en">Security and Permissions</span>
          </a></li>
  <!--  <li><a style="color:gray;">Processes and Threads</a></li> -->
  <!--  <li><a style="color:gray;">Interprocess Communication</a></li> -->
      <li class="toggle-list">
        <div><a href="../../../guide/topics/manifest/manifest-intro.html">
               <span class="en">The AndroidManifest.xml File</span>
             </a></div>
        <ul>
          <li><a href="../../../guide/topics/manifest/action-element.html">&lt;action&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/activity-element.html">&lt;activity&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/activity-alias-element.html">&lt;activity-alias&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/application-element.html">&lt;application&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/category-element.html">&lt;category&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/data-element.html">&lt;data&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/grant-uri-permission-element.html">&lt;grant-uri-permission&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/instrumentation-element.html">&lt;instrumentation&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/intent-filter-element.html">&lt;intent-filter&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/manifest-element.html">&lt;manifest&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/meta-data-element.html">&lt;meta-data&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/path-permission-element.html">&lt;path-permission&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/permission-element.html">&lt;permission&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/permission-group-element.html">&lt;permission-group&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/permission-tree-element.html">&lt;permission-tree&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/provider-element.html">&lt;provider&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/receiver-element.html">&lt;receiver&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/service-element.html">&lt;service&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/supports-screens-element.html">&lt;supports-screens&gt;</a></li>  <!-- ##api level 4## -->
          <li><a href="../../../guide/topics/manifest/uses-configuration-element.html">&lt;uses-configuration&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/uses-feature-element.html">&lt;uses-feature&gt;</a></li> <!-- ##api level 4## -->
          <li><a href="../../../guide/topics/manifest/uses-library-element.html">&lt;uses-library&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/uses-permission-element.html">&lt;uses-permission&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/uses-sdk-element.html">&lt;uses-sdk&gt;</a></li>
        </ul>
      </li>
    </ul>
    <ul>
      <li class="toggle-list">
        <div><a href="../../../guide/topics/graphics/index.html">
               <span class="en">Graphics</span>
             </a></div>
        <ul>
          <li><a href="../../../guide/topics/graphics/2d-graphics.html">
                <span class="en">2D Graphics</span>
              </a></li>
          <li><a href="../../../guide/topics/graphics/opengl.html">
                <span class="en">3D with OpenGL</span>
              </a></li>
        </ul>
      </li>
      <li><a href="../../../guide/topics/media/index.html">
            <span class="en">Audio and Video</span>
          </a></li>
  <!--<li class="toggle-list">
        <div><a style="color:gray;">Sensors</a></div>
          <ul>
            <li><a style="color:gray;">Camera</a></li>
            <li><a style="color:gray;">Compass</a></li>
            <li><a style="color:gray;">Accelerometer</a></li>
          </ul>
      </li> -->
      <li><a href="../../../guide/topics/location/index.html">
            <span class="en">Location and Maps</span>
          </a></li>
  <!--<li class="toggle-list">
        <div><a style="color:gray;">Wireless Controls</a></div>
          <ul>
            <li><a style="color:gray;">Wi-Fi</a></li>
            <li><a style="color:gray;">Bluetooth</a></li>
          </ul>
      </li> -->
  <!--<li><a style="color:gray;">Localization</a></li>  -->
      <li><a href="../../../guide/topics/appwidgets/index.html">
            <span class="en">App Widgets</span>
          </a></li>
    </ul>
  </li>
  
  <li>
    <h2><span class="en">Developing</span>
               <span class="de" style="display:none">Entwicklung</span>
               <span class="es" style="display:none">Desarrollo</span>
               <span class="fr" style="display:none">Développement</span>
               <span class="it" style="display:none">Sviluppo</span>
               <span class="ja" style="display:none">開発</span>
               <span class="zh-CN" style="display:none">开发</span>
               <span class="zh-TW" style="display:none">開發</span>
    </h2>
    <ul>
  <!--<li><a href="">Developing for Android</a></li>
      signing, upgrading, selecting a package name, select device profile, touch, trackball, dpad available, etc. -->
      <li><a href="../../../guide/developing/eclipse-adt.html">
            <span class="en">In Eclipse, with ADT</span> 
            <span class="de" style="display:none">In Eclipse, mit ADT</span>
            <span class="es" style="display:none">En Eclipse, con ADT</span>
            <span class="fr" style="display:none">Sous Eclipse, à l'aide du plugin ADT</span>
            <span class="it" style="display:none">In Eclipse, con ADT</span>
            <span class="ja" style="display:none">Eclipse 内で ADT を使用</span>
            <span class="zh-CN" style="display:none">利用 ADT 在 Eclipse 中开发</span>
            <span class="zh-TW" style="display:none">在加裝 ADT 工具的 Eclipse 環境中</span>
          </a></li>
      <li><a href="../../../guide/developing/other-ide.html">
            <span class="en">In Other IDEs</span>
            <span class="de" style="display:none">In anderen IDEs</span>
            <span class="es" style="display:none">En otros entornos</span>
            <span class="fr" style="display:none">Sous d'autres environnements</span>
            <span class="it" style="display:none">In altri IDE</span>
            <span class="ja" style="display:none">その他の統合開発環境</span>
            <span class="zh-CN" style="display:none">在其他 IDE 中开发</span>
            <span class="zh-TW" style="display:none">在其他開發環境中</span>
          </a></li>
      <li><a href="../../../guide/developing/device.html">
            <span class="en">On a Device</span>
          </a></li>
      <li><a href="../../../guide/developing/debug-tasks.html">
            <span class="en">Debugging Tasks</span>
          </a></li>
      <li class="toggle-list">
        <div><a href="../../../guide/developing/tools/index.html">
            <span class="en">Tools</span>
          </a></div>
        <ul>
      		<li><a href="../../../guide/developing/tools/aapt.html">aapt</a></li>
      		<li><a href="../../../guide/developing/tools/adb.html">adb</a></li>
      		<li><a href="../../../guide/developing/tools/othertools.html#android">android</a></li>
      <!--<li><a href="../../../guide/developing/tools/adt.html">ADT Plugin</a></li>-->
      		<li><a href="../../../guide/developing/tools/aidl.html">aidl</a></li>
      		<li><a href="../../../guide/developing/tools/avd.html">AVDs</a></li>
      		<li><a href="../../../guide/developing/tools/ddms.html">ddms</a></li>
      		<li><a href="../../../guide/developing/tools/othertools.html#dx">dx</a></li>
      		<li><a href="../../../guide/developing/tools/draw9patch.html">Draw 9-Patch</a></li>
      		<li><a href="../../../guide/developing/tools/emulator.html">Emulator</a></li>
      		<li><a href="../../../guide/developing/tools/hierarchy-viewer.html">Hierarchy Viewer</a></li>
      		<li><a href="../../../guide/developing/tools/layoutopt.html">layoutopt</a></li>
      		<li><a href="../../../guide/developing/tools/othertools.html#mksdcard">mksdcard</a></li>
      		<li><a href="../../../guide/developing/tools/monkey.html">Monkey</a></li>
      		<li><a href="../../../guide/developing/tools/adb.html#sqlite">sqlite3</a></li>
      		<li><a href="../../../guide/developing/tools/traceview.html" >Traceview</a></li>
      		<li><a href="../../../guide/developing/tools/zipalign.html" >zipalign</a></li>
    	  </ul>
  	  </li>
  <!--<li><a href="../../../guide/developing/instrumentation/index.html">Instrumentation</a></li>
      <li><a style="color:gray;">JUnit</a></li> -->
    </ul>
  </li>
  
  <li>
    <h2><span class="en">Publishing</span>
        <span class="de" style="display:none">Veröffentlichung</span>
        <span class="es" style="display:none">Publicación</span>
        <span class="fr" style="display:none">Publication</span>
        <span class="it" style="display:none">Pubblicazione</span>
        <span class="ja" style="display:none">公開</span>
        <span class="zh-CN" style="display:none">发布</span>
        <span class="zh-TW" style="display:none">發佈</span>
    </h2>
    <ul>
      <li><a href="../../../guide/publishing/app-signing.html">
            <span class="en">Signing Your Applications</span>
            <span class="de" style="display:none">Signieren Ihrer Anwendungen</span>
            <span class="es" style="display:none">Firma de aplicaciones</span>
            <span class="fr" style="display:none">Attribution de votre signature <br />à vos applications</span>
            <span class="it" style="display:none">Firma delle applicazioni</span>
            <span class="ja" style="display:none">アプリケーションへの署名</span>
            <span class="zh-CN" style="display:none">应用程序签名</span>
            <span class="zh-TW" style="display:none">簽署應用程式</span>
          </a></li>
      <li><a href="../../../guide/publishing/versioning.html">
            <span class="en">Versioning Your Applications</span>
            <span class="de" style="display:none">Versionsverwaltung für Ihre <br />Anwendungen</span>
            <span class="es" style="display:none">Versiones de las aplicaciones</span>
            <span class="fr" style="display:none">Attribution d'une version à vos applications</span>
            <span class="it" style="display:none">Controllo versioni delle applicazioni</span>
            <span class="ja" style="display:none">アプリケーションのバージョニング</span>
            <span class="zh-CN" style="display:none">应用程序版本控制</span>
            <span class="zh-TW" style="display:none">應用程式版本設定</span>
          </a></li>
      <li><a href="../../../guide/publishing/preparing.html">
            <span class="en">Preparing to Publish</span>
            <span class="de" style="display:none">Vorbereitung auf die Veröffentlichung</span>
            <span class="es" style="display:none">Publicación de aplicaciones</span>
            <span class="fr" style="display:none">Préparation à la publication</span>
            <span class="it" style="display:none">Preparativi per la pubblicazione</span>
            <span class="ja" style="display:none">公開の準備</span>
            <span class="zh-CN" style="display:none">准备发布</span>
            <span class="zh-TW" style="display:none">準備發佈</span>
          </a></li>
      <li><a href="../../../guide/publishing/publishing.html">
            <span class="en">Publishing Your Applications</span>
          </a></li>
    </ul>
  </li>
  
  <li>
    <h2><span class="en">Best Practices</span>
               <span class="de" style="display:none">Bewährte Verfahren</span>
               <span class="es" style="display:none">Prácticas recomendadas</span>
               <span class="fr" style="display:none">Meilleures pratiques</span>
               <span class="it" style="display:none">Best practice</span>
               <span class="ja" style="display:none">ベスト プラクティス</span>
               <span class="zh-CN" style="display:none">最佳实践</span>
               <span class="zh-TW" style="display:none">最佳實務</span>
    </h2>
    <ul>
      <li><a href="../../../guide/practices/screens_support.html">
            <span class="en">Supporting Multiple Screens</span>
          </a></li>
      <li class="toggle-list">
        <div><a href="../../../guide/practices/ui_guidelines/index.html">
               <span class="en">UI Guidelines</span>
             </a></div>
        <ul>
          <li><a href="../../../guide/practices/ui_guidelines/icon_design.html">
                <span class="en">Icon Design</span>
              </a></li>
          <li><a href="../../../guide/practices/ui_guidelines/widget_design.html">
                <span class="en">App Widget Design</span>
              </a></li>
          <li><a href="../../../guide/practices/ui_guidelines/activity_task_design.html">
                <span class="en">Activity and Task Design</span>
              </a></li>
          <li><a href="../../../guide/practices/ui_guidelines/menu_design.html">
                <span class="en">Menu Design</span>
              </a></li>
        </ul>
      </li>
      </ul>
      <ul>
      <li><a href="../../../guide/practices/design/performance.html">
            <span class="en">Designing for Performance</span>
          </a></li>
      <li><a href="../../../guide/practices/design/responsiveness.html">
            <span class="en">Designing for Responsiveness</span>
          </a></li>
      <li><a href="../../../guide/practices/design/seamlessness.html">
            <span class="en">Designing for Seamlessness</span>
          </a></li>
    </ul>
  </li>
  
  <li>
    <h2><span class="en">Tutorials and Sample Code</span>
               <span class="de" style="display:none">Lernprogramme und Beispielcode</span>
               <span class="es" style="display:none">Tutoriales y código de ejemplo</span>
               <span class="fr" style="display:none">Didacticiels et exemple de code</span>
               <span class="it" style="display:none">Esercitazioni e codice di esempio</span>
               <span class="ja" style="display:none">チュートリアルとサンプル コード</span>
               <span class="zh-CN" style="display:none">辅导手册和示例代码</span>
               <span class="zh-TW" style="display:none">教學課程與程式碼範例</span>
    </h2>
    <ul>
      <li><a href="../../../guide/tutorials/hello-world.html">
            <span class="en">Hello World</span>
          </a></li>
      <li><a href="../../../guide/tutorials/views/index.html">
            <span class="en">Hello Views</span>
          </a></li>
      <li><a href="../../../guide/tutorials/localization/index.html">
            <span class="en">Hello Localization</span>
          </a></li>
      <li><a href="../../../guide/tutorials/notepad/index.html">
            <span class="en">Notepad Tutorial</span>
          </a></li>
    </ul>
    <ul>
      <li class="toggle-list">
        <div><a href="../../../guide/samples/index.html">
               <span class="en">Sample Code</span>
             </a></div>
        <ul>
          <li><a href="../../../guide/samples/ApiDemos/index.html">
                <span class="en">API Demos</span>
              </a></li>
          <li><a href="../../../guide/samples/Home/index.html">
                <span class="en">Home</span>
              </a></li>
          <li><a href="../../../guide/samples/JetBoy/index.html">
                <span class="en">JetBoy</span>
              </a></li>
          <li><a href="../../../guide/samples/LunarLander/index.html">
                <span class="en">Lunar Lander</span>
              </a></li>
          <li><a href="../../../guide/samples/NotePad/index.html">
                <span class="en">Note Pad</span>
              </a></li>
          <li><a href="../../../guide/samples/SearchableDictionary/index.html">
                <span class="en">Searchable Dictionary</span>
              </a></li>
          <li><a href="../../../guide/samples/Snake/index.html">
                <span class="en">Snake</span>
              </a></li>
          <li><a href="../../../guide/samples/SoftKeyboard/index.html">
                <span class="en">Soft Keyboard</span>
              </a></li>
        </ul>
      </li>
    </ul>
  </li>
  

  <li>
    <h2><span class="en">Appendix</span>
               <span class="de" style="display:none">Anhang</span>
               <span class="es" style="display:none">Apéndice</span>
               <span class="fr" style="display:none">Annexes</span>
               <span class="it" style="display:none">Appendice</span>
               <span class="ja" style="display:none">付録</span>
               <span class="zh-CN" style="display:none">附录</span>
               <span class="zh-TW" style="display:none">附錄</span>
    </h2>
    <ul>
      <li><a href="../../../guide/appendix/api-levels.html">
            <span class="en">Android API Levels</span>
          </a></li>
      <li><a href="../../../guide/appendix/media-formats.html">
            <span class="en">Supported Media Formats</span>
          </a></li>
      <li><a href="../../../guide/appendix/g-app-intents.html">
            <span class="en">Intents List: Google Apps</span>
          </a></li>
      <li><a href="../../../guide/appendix/glossary.html">
            <span class="en">Glossary</span>
          </a></li>
      <li><a href="../../../guide/appendix/faq/index.html">
            <span class="en">FAQ</span>
          </a></li>
    </ul>
  </li>

</ul>

<script type="text/javascript">
<!--
    buildToggleLists();
    changeNavLang(getLangPref());
//-->
</script>

      </div>
    </div> <!-- end side-nav -->
    <script>
      addLoadEvent(function() {
        scrollIntoView("devdoc-nav");
        });
    </script>




<div class="g-unit" id="doc-content"><a name="top"></a>

<div id="jd-header" class="guide-header">
  <span class="crumb">
    &nbsp;
    
  </span>
<h1>Content Providers——内容提供者</h1>
</div>

  <div id="jd-content">


    <div class="jd-descr">
    <div id="qv-wrapper">
<div id="qv">
<h2>Key classes</h2>
<ol>
<li><code><a href="../../../reference/android/content/ContentProvider.html">ContentProvider</a></code></li>
<li><code><a href="../../../reference/android/content/ContentResolver.html">ContentResolver</a></code></li>
<li><code><a href="../../../reference/android/database/Cursor.html">Cursor</a></code></li>
</ol>

<h2>In this document</h2>
<ol>
<li><a href="#basics">Content provider basics</a></li>
<li><a href="#querying">Querying a content provider</a></li>
<li><a href="#modifying">Modifying data in a provider</a></li>
<li><a href="#creating">Creating a content provider</a></li>
<li><a href="#urisum">Content URI summary</a></li>
</ol>
</div>
</div>

<p>
Content providers store and retrieve data and make it accessible to all 
applications.  They're the only way to share data across applications; there's 
no common storage area that all Android packages can access.
<br>
内容提供者可以用来存取数据，并且可以使所有应用程序访问这些数据。Content 
providers是应用程序之间共享数据的唯一方式；不存在所有Android包都能够访问的共用存储区。</p>   

<p>
Android ships with a number of content providers for common data types 
(audio, video, images, personal contact information, and so on).  You can 
see some of them listed in the <code><a href="../../../reference/android/provider/package-summary.html">android.provider</a></code> 
package.  You can query these providers for the data they contain (although,
for some, you must acquire the proper permission to read the data).
<br>
Android包含了一些常用数据类型的Content providers（音频、视频、图像、个人通讯录等），在<code><a href="../../../reference/android/provider/package-summary.html">android.provider</a></code>包中可以找到它们。可以查询这些Provider包含的数据（对某些数据来说，我们必须获得必要的授权）。</p>   

<p>
If you want to make your own data public, you have two options:  You can 
create your own content provider (a <code><a href="../../../reference/android/content/ContentProvider.html">ContentProvider</a></code> 
subclass) or you can add the data to an existing provider &mdash; if there's 
one that controls the same type of data and you have permission to write to it. 
<br>
本文介绍怎样使用Content providers。基本概念的简要讨论之后，我们将探讨怎样查询一个Content 
Provider，怎样修改一个Provider控制的数据，以及怎样创建自己的Content Provider（<code><a href="../../../reference/android/content/ContentProvider.html">ContentProvider</a></code>的子类）。</p>   

<p>
This document is an introduction to using content providers.  After a 
brief discussion of the fundamentals, it explores how to query a content 
provider, how to modify data controlled by a provider, and how to create
a content provider of your own.
<br>
这篇文档介绍了如何使用内容提供者。文档前边简要介绍了基础知识，后边演示了如何向内容提供者发出一个请求，如何修改一个提供者控制的数据，还有如何创建您自己的内容提供者</p>   


<h2><a name="basics"></a>Content Provider Basics——内容提供者基础知识</h2>

<p>
How a content provider actually stores its data under the covers is 
up to its designer.  But all content providers implement a common interface 
for querying the provider and returning results &mdash; as well as for 
adding, altering, and deleting data.
<br>
内容提供者是如何存储数据您是不用关心的。但是所有的提供者都是实现的一个接口，提供了对提供者相应请求和进行返回的方法——还有添加数据，修改数据，删除数据的方法。</p>   

<p>
It's an interface that clients use indirectly, most generally through 
<code><a href="../../../reference/android/content/ContentResolver.html">ContentResolver</a></code> objects.  You get a ContentResolver 
by calling <code><code><a href="../../../reference/android/content/Context.html#getContentResolver()">getContentResolver()</a></code></code> from within the implementation of an Activity 
or other application component:
<br>
这个内容提供者这个数据接口是不能由您直接使用的，通常是通过<code><a href="../../../reference/android/content/ContentResolver.html">ContentResolver</a></code>对象进行使用。您可以通过在活动中或是其他应用程序组件中调用<code><a href="../../../reference/android/content/Context.html#getContentResolver()">getContentResolver()</a></code>方法获得一个内容解析者：</p>   

<pre>ContentResolver cr = getContentResolver();</pre>

<p>
You can then use the ContentResolver's methods to interact with whatever 
content providers you're interested in.
<br>
您可以使用内容解析者的方法和任何您想要的内容提供者进行数据交流。</p>   

<p>
When a query is initiated, the Android system identifies the content provider 
that's the target of the query and makes sure that it is up and running.  
The system instantiates all ContentProvider objects; you never need to do it 
on your own.  In fact, you never deal directly with ContentProvider objects 
at all.  Typically, there's just a single instance of each type of 
ContentProvider.  But it can communicate with multiple ContentResolver objects 
in different applications and processes.  The interaction between processes is 
handled by the ContentResolver and ContentProvider classes.
<br>
当您发出一个请求的时候，Android 
系统会识别请求需要的内容提供者然后确保这个内容提供者已经实例化正在运行。系统会实例化所有内容提供者对象；您不需要自己动手进行实例化。实际上，您从来都没有和内容提供者进行直接交流。典型的，每一个内容提供者类只有一个实例。但是他可以和来自不同程序或进程的多个内容解析者进行通信。进程之间的通信也是由内容提供者和内容解析者这两个类完成的。</p>   


<h3>The data model——数据模式</h3>

<p>
Content providers expose their data as a simple table on a database model, 
where each row is a record and each column is data of a particular type 
and meaning.  For example, information about people and their phone numbers 
might be exposed as follows: 
<br>
内容提供者将他们后台的数据以数据表的形式暴露出来，这个数据表的行是一个记录，列是数据的类型或是意义。例如，有关联系人的信息还有他们的电话号码可能以下面这种形式表达：</p>   

<table>
   <tr>
      <th scope="col">_ID</th>
      <th scope="col">NUMBER</th>
      <th scope="col">NUMBER_KEY</th>
      <th scope="col">LABEL</th>
      <th scope="col">NAME</th>
      <th scope="col">TYPE</th>
   </tr>
   <tr>
      <td>13</td>
      <td>(425) 555 6677</td>
      <td>425 555 6677</td>
      <td>Kirkland office</td>
      <td>Bully Pulpit</td>
      <td><code>TYPE_WORK</code></td>
   </tr>
   <tr>
      <td>44</td>
      <td>(212) 555-1234</td>
      <td>212 555 1234</td>
      <td>NY apartment</td>
      <td>Alan Vain</td>
      <td><code>TYPE_HOME</code></td>
   </tr>
   <tr>
      <td>45</td>
      <td>(212) 555-6657</td>
      <td>212 555 6657</td>
      <td>Downtown office</td>
      <td>Alan Vain</td>
      <td><code>TYPE_MOBILE</code></td>
   </tr>
   <tr>
      <td>53</td>
      <td>201.555.4433</td>
      <td>201 555 4433</td>
      <td>Love Nest</td>
      <td>Rex Cars</td>
      <td><code>TYPE_HOME</code></td>
   </tr>
</table>

<p>
Every record includes a numeric <code>_ID</code> field that uniquely identifies 
the record within the table.  IDs can be used to match records in related 
tables &mdash; for example, to find a person's phone number in one table 
and pictures of that person in another.
<br>
每一个记录都有一个唯一的数值类型<code> _ID</code> 
的域，用来对记录进行识别。ID可以用来在相关的表中寻找数据——例如，在一个表中寻找一个人的电话号码，在另一张表中寻找这个人的照片。</p>   

<p>
A query returns a <code><a href="../../../reference/android/database/Cursor.html">Cursor</a></code> object that can move from 
record to record and column to column to read the contents of each field.  
It has specialized methods for reading each type of data.  So, to read a field, 
you must know what type of data the field contains.  (There's more on query 
results and Cursor objects later.)
<br>
请求会返回 <code><a href="../../../reference/android/database/Cursor.html">Cursor</a></code> 
一个对象，游标对象可以在记录和记录还有列与列之间移动，读取这个域中的数据。读取不同类型的数据使用的方法是不同的。因此，如果想要读取一个域中的数据，您必须知道这个域中数据的类型。（后边还有更多有关请求的返回结果和游标对象的讨论）</p>   


<h3><a name="uri"></a>URIs——通用资源标识符</h3>

<p>
Each content provider exposes a public URI (wrapped as a <code><a href="../../../reference/android/net/Uri.html">Uri</a></code> 
object) that uniquely identifies its data set.  A content provider that controls 
multiple data sets (multiple tables) exposes a separate URI for each one.  All 
URIs for providers begin with the string "<code>content://</code>".  The <code>content:</code> 
scheme identifies the data as being controlled by a content provider.
<br>
每一个内容提供者暴露出来一个公共的 URI （包装为一个 <code><a href="../../../reference/android/net/Uri.html">Uri</a></code> 
对象），这个URI唯一的标志了这个数据表。控制多个数据集合（数据表）的内容提供者的每个数据表的URI是不同的。所有的URI都是由&quot;<code>content://</code>&quot;字符串开头的。前缀“<code>content:</code>”表明了这个数据表是由内容提供者控制的。</p>   

<p>
If you're defining a content provider, it's a good idea to also define a 
constant for its URI, to simplify client code and make future updates cleaner.  
Android defines <code>CONTENT_URI</code> constants for all the providers that come 
with the platform.  For example, the URI for the table that matches 
phone numbers to people and the URI for the table that holds pictures of 
people (both controlled by the Contacts content provider) are:
<br>
如果您想要定义一个内容提供者，您最好为您的提供者定义一个静态的URI，这样可以使其他代码更容易引用，而且便于以后对代码的维护。Android所有的平台自带的内容提供者都定义了一个静态的<code>CONTENT_URI</code>。例如，存放有联系人电话号码的表的URI对象和联系人照片的URI（两个数据表都是由Contacts内容提供者控制的）是：</p>   

<p>
<p style="margin-left: 2em"><code>android.provider.Contacts.Phones.CONTENT_URI</code>
<br/><code>android.provider.Contacts.Photos.CONTENT_URI</code>
</p>   

<p>
Similarly, the URIs for the table of recent phone calls and the table 
of calendar entries are:
<br>
类似的，最近通话和日历的表的URI分别是：</p>   

<p>
<p style="margin-left: 2em"><code>android.provider.CallLog.Calls.CONTENT_URI</code>
<br/><code>android.provider.Calendar.CONTENT_URI</code>
</p>   

<p>
The URI constant is used in all interactions with the content provider. 
Every <code><a href="../../../reference/android/content/ContentResolver.html">ContentResolver</a></code> method takes the URI 
as its first argument.  It's what identifies which provider the ContentResolver 
should talk to and which table of the provider is being targeted.
<br>
这些静态的URI 用来与内容提供者进行交流。每一个<code><a href="../../../reference/android/content/ContentResolver.html">ContentResolver</a></code>的方法都要使用URI作第一个参数。这个URI指示了内容解解析者将于哪个内容提供者交流，而且指定了内容提供者使用哪个数据表。</p>   


<h2><a name="querying"></a>Querying a Content Provider——对内容提供者发出一个请求</h2>

<p>
You need three pieces of information to query a content provider:
<br>
向内容提供者发出一个请求，您需要下列三个条件：</p>   

<ul>
<li>The URI that identifies the provider——识别内容提供者的URI</li>
<li>The names of the data fields you want to receive——您想要读取数据的数据域的名字</li>
<li>The data types for those fields——这些域中数据的类型</li>
</ul>

<p>
If you're querying a particular record, you also need the ID for that record.
<br>
如果您要请求返回一个指定的记录，您还需要知道这个记录的ID。</p>   


<h3>Making the query——发出请求</h3>

<p>
To query a content provider, you can use either the 
<code><code><a href="../../../reference/android/content/ContentResolver.html#query(android.net.Uri, java.lang.String[], java.lang.String, java.lang.String[], java.lang.String)">ContentResolver.query()</a></code></code> 
method or the <code><code><a href="../../../reference/android/app/Activity.html#managedQuery(android.net.Uri, java.lang.String[], java.lang.String, java.lang.String[], java.lang.String)">Activity.managedQuery()</a></code></code> method. 
Both methods take the same set of arguments, and both return a 
Cursor object.  However, <code>managedQuery()</code> 
causes the activity to manage the life cycle of the Cursor.  A managed Cursor 
handles all of the niceties, such as unloading itself when the activity pauses, 
and requerying itself when the activity restarts.  You can ask an Activity to 
begin managing an unmanaged Cursor object for you by calling 
<code><code><a href="../../../reference/android/app/Activity.html#startManagingCursor(android.database.Cursor)">Activity.startManagingCursor()</a></code></code>. 
<br>
您可以使用<code><a href="../../../reference/android/content/ContentResolver.html#query(android.net.Uri, java.lang.String[], java.lang.String, java.lang.String[], java.lang.String)">ContentResolver.query()</a></code>方法或是 <code><a href="../../../reference/android/app/Activity.html#managedQuery(android.net.Uri, java.lang.String[], java.lang.String, java.lang.String[], java.lang.String)">Activity.managedQuery()</a></code>方法，向内容提供者发出请求。两个方法的参数是一样的，而且都返回一个游标对象。但是，<code>managedQuery()</code>会让活动管理这个游标对象的生命周期。被管理的游标会自己处理一些细节上的事，比如在活动暂停的时候将自己卸载，，然后在活动恢复的时候重新向内容提供者发出请求恢复自己。您可以调用<code><a href="../../../reference/android/app/Activity.html#startManagingCursor(android.database.Cursor)">Activity.startManagingCursor()</a></code>让活动对一个未被管理的游标对象进行管理。</p>   

<p>
The first argument to either <code><code><a href="../../../reference/android/content/ContentResolver.html#query(android.net.Uri, java.lang.String[], java.lang.String, java.lang.String[], java.lang.String)">query()</a></code></code> 
or <code><code><a href="../../../reference/android/app/Activity.html#managedQuery(android.net.Uri, java.lang.String[], java.lang.String, java.lang.String[], java.lang.String)">
managedQuery()</a></code></code> is the provider URI 
&mdash; the <code>CONTENT_URI</code> constant that identifies a particular 
ContentProvider and data set (see <a href="#uri">URIs</a> earlier).
<br>
不管是<code><a href="../../../reference/android/content/ContentResolver.html#query(android.net.Uri, java.lang.String[], java.lang.String, java.lang.String[], java.lang.String)">query()</a> </code>
还是 <code><a href="../../../reference/android/app/Activity.html#managedQuery(android.net.Uri, java.lang.String[], java.lang.String, java.lang.String[], java.lang.String)">
managedQuery()</a></code> 方法，他们的第一个参数都是能对提供者进行识别的URI —— 能用来识别内容提供者和数据表的 静态的&nbsp; <code>CONTENT_URI</code> 
（参见前边的<a href="#uri">URIs</a>）。</p>   

<p>
To restrict a query to just one record, you can append the <code>_ID</code> value for 
that record to the URI &mdash; that is, place a string matching the ID as the 
last segment of the path part of the URI.  For example, if the ID is 23, 
the URI would be:
<br>
如果您只想请求一个特定的记录，您可以向URI中加入那个记录的 <code>_ID </code> 
值——就是说，把与那个记录对应的ID值放到字符串的最后的部分。例如，如果 ID 是23 ，那么最后的URI就是：</p>   

<p style="margin-left: 2em"><code>content://. . . ./23</code></p>   

<p>
There are some helper methods, particularly 
<code><code><a href="../../../reference/android/content/ContentUris.html#withAppendedId(android.net.Uri, long)">ContentUris.withAppendedId()</a></code></code> and <code><code><a href="../../../reference/android/net/Uri.html#withAppendedPath(android.net.Uri, java.lang.String)">Uri.withAppendedPath()</a></code></code>, 
that make it easy to append an ID to a URI.  Both are static methods that return 
a Uri object with the ID added.  So, for example, if you were looking for record 
23 in the database of people contacts, you might construct a query as follows:
<br>
向URI结尾添加ID值，您可以使用一些帮助类，最典型的有<code><a href="../../../reference/android/content/ContentUris.html#withAppendedId(android.net.Uri, long)">ContentUris.withAppendedId()</a></code>和<code><a href="../../../reference/android/net/Uri.html#withAppendedPath(android.net.Uri, java.lang.String)">Uri.withAppendedPath()</a></code>。两个都是静态的方法，返回添加完ID的Uri对象。如果您想要在联系人数据库中寻找一个ID为23的记录，您可以这样进行请求：</p>

<pre>
import android.provider.Contacts.People;
import android.content.ContentUris;
import android.net.Uri;
import android.database.Cursor;

	// Use the ContentUris method to produce the base URI for the contact with _ID == 23.
	// 使用ContentUris方法构造指向记录ID为23的URI

Uri myPerson = ContentUris.withAppendedId(People.CONTENT_URI, 23);

	// Alternatively, use the Uri method to produce the base URI.
	// 可选的，您也可以使用 Uri 方法构造这个 URI
	// It takes a string rather than an integer.
	// 它的第二个参数是字符串，而不是整数
Uri myPerson = Uri.withAppendedPath(People.CONTENT_URI, "23");

	// Then query for this specific record:
	// 然后您就可以请求这个指定的记录了
Cursor cur = managedQuery(myPerson, null, null, null, null);
</pre>

<p>
The other arguments to the <code><code><a href="../../../reference/android/content/ContentResolver.html#query(android.net.Uri, java.lang.String[], java.lang.String, java.lang.String[], java.lang.String)">query()</a></code></code> 
and <code><code><a href="../../../reference/android/app/Activity.html#managedQuery(android.net.Uri, java.lang.String[], java.lang.String, java.lang.String[], java.lang.String)">managedQuery()</a></code></code> methods delimit 
the query in more detail.  They are:
<br>
&nbsp;<code><a href="../../../reference/android/content/ContentResolver.html#query(android.net.Uri, java.lang.String[], java.lang.String, java.lang.String[], java.lang.String)">query()</a></code> 
和 <code><a href="../../../reference/android/app/Activity.html#managedQuery(android.net.Uri, java.lang.String[], java.lang.String, java.lang.String[], java.lang.String)">managedQuery()</a></code> 
方法的另外几个参数对请求进行了一些限定，这些参数是：</p>   

<ul>
<li>The names of the data columns that should be returned.  A <code>null</code> 
value returns all columns.  Otherwise, only columns that are listed by name
are returned.  All the content providers that come with the platform define 
constants for their columns.  For example, the 
<code><a href="../../../reference/android/provider/Contacts.Phones.html">android.provider.Contacts.Phones</a></code> class 
defines constants for the names of the columns in the phone table illustrated 
earlier &mdash <code>_ID</code>, <code>NUMBER</code>, <code>NUMBER_KEY</code>, <code>NAME</code>,
and so on.<br>
限定返回的数据表的列的名称，使用 <code>null</code> 
会返回所有的列。例如，<code><a href="../../../reference/android/provider/Contacts.Phones.html">android.provider.Contacts.Phones</a></code> 
类定义了有 <code>_ID</code>, <code>NUMBER</code>, <code>NUMBER_KEY</code>, <code>NAME</code>,这几个列名称的有关电话的数据表。</li>

<li><p>A filter detailing which rows to return, formatted as an SQL <code>WHERE</code> 
clause (excluding the <code>WHERE</code> itself).  A <code>null</code> value returns 
all rows (unless the URI limits the query to a single record).<br>
限定返回哪一行的过滤器，格式遵循SQL <code>WHERE</code> 
语句格式（包括 <code>WHERE</code> 
从句自己）。使用 <code>null</code> 会返回所有的行（除非是URI将请求限制到某个单一记录）。</p></li>

<li><p>Selection arguments.<br>
选择参数 （You may include ?s in selection, which will be replaced by the values from 
selectionArgs, in the order that they appear in the selection. The values will 
be bound as Strings.）</p></li>

<li><p>A sorting order for the rows that are returned, formatted as an SQL 
<code>ORDER BY</code> clause (excluding the <code>ORDER BY</code> itself).  A <code>null</code> 
value returns the records in the default order for the table, which may be
unordered.<br>
设定返回的行的排序方式，格式遵循SQL的语句（包括 
<code>ORDER BY</code> 本身）。使用 <code>null</code> 
会按表中默认的顺序返回记录。</p></li>  
</ul>

<p>
Let's look at an example query to retrieve a list of contact names and their 
primary phone numbers:
<br>
下面让我们看一个发出请求获取联系人名字和他们主要电话的号码的例子：</p>

<pre>
import android.provider.Contacts.People;
import android.database.Cursor;

	// Form an array specifying which columns to return. 
	//构造一个指明返回哪个列的数组
String[] projection = new String[] {
                             People._ID,
                             People._COUNT,
                             People.NAME,
                             People.NUMBER
                          };

	// Get the base URI for the People table in the Contacts content provider.
	//获得联系人内容提供者People数据表的URI
Uri contacts =  People.CONTENT_URI;

	// Make the query. 
	//发出请求
Cursor managedCursor = managedQuery(contacts,
                         projection, // Which columns to return 
					//指定返回哪一列
                         null,       // Which rows to return (all rows)
					//指定返回哪一行（这里是所有行）
                         null,       // Selection arguments (none)
					//可选的参数（这里没有）
                         // Put the results in ascending order by name
				//将结果使用名字升序排列
                         People.NAME + " ASC");
</pre>

<p>
This query retrieves data from the People table of the Contacts content 
provider.  It gets the name, primary phone number, and unique record ID for
each contact.  It also reports the number of records that are returned as 
the <code>_COUNT</code> field of each record.
<br>
上边例子中的请求是从联系人内容提供者的联系人信息的数据表中获取数据。他获取名字，主要电话的号码，还有每一个联系人的唯一的记录ID。它也报告了记录的数量作为每条记录的_COUNT字段返回。</p>

<p>
The constants for the names of the columns are defined in various interfaces 
&mdash; <code>_ID</code> and <code>_COUNT</code> in 
<code><a href="../../../reference/android/provider/BaseColumns.html">BaseColumns</a></code>, <code>NAME</code> in <code><a href="../../../reference/android/provider/Contacts.PeopleColumns.html">PeopleColumns</a></code>, and <code>NUMBER</code> 
in <code><a href="../../../reference/android/provider/Contacts.PhonesColumns.html">PhoneColumns</a></code>.  The 
<code><a href="../../../reference/android/provider/Contacts.People.html">Contacts.People</a></code> class implements 
each of these interfaces, which is why the code example above could refer 
to them using just the class name. 
<br>
上边例子中的列式定义在不同的接口中的—— <code>_ID</code> 和 <code>_COUNT</code> 在 
<code><a href="../../../reference/android/provider/BaseColumns.html">BaseColumns</a></code>中， <code>NAME</code> 
在 <code><a href="../../../reference/android/provider/Contacts.PeopleColumns.html">PeopleColumns</a></code>中， <code>NUMBER</code> 
在 <code><a href="../../../reference/android/provider/Contacts.PhonesColumns.html">PhoneColumns</a></code>中。<code><a href="../../../reference/android/provider/Contacts.People.html">Contacts.People</a></code> 
类实现了这些接口，这就是为什么例子中只用一个类就能使用它们的原因。</p>


<h3>What a query returns——请求返回什么</h3>

<p>
A query returns a set of zero or more database records.  The names of the 
columns, their default order, and their data types are specific to each 
content provider. 
But every provider has an <code>_ID</code> column, which holds a unique numeric 
ID for each record.  Every provider can also report the number
of records returned as the <code>_COUNT</code> column; its value 
is the same for all rows. 
<br>
请求返回一个含有零个或多个数据库记录的集合。列的名字，默认的顺序，是随着提供者不同而不同的。但是每一个提供者都有一个<code>_ID</code>列，这个列保存了每一个记录的唯一的整形ID。每一个提供者都可以将记录的数量作为列的值返回；这一列的值每行都是相同的。</p>

<p> 
Here is an example result set for the query in the previous section:
<br>
下面这个结果是上边例子返回的一个数据集合：</p>

<table border="1">
   <tbody>
      <tr>
         <th scope="col">_ID</th>
         <th scope="col">_COUNT</th>
         <th scope="col">NAME</th>
         <th scope="col">NUMBER</th>     
      </tr>
      <tr>
         <td>44</td>
         <td>3</td>
         <td>Alan Vain</td>
         <td>212 555 1234</td>   
      </tr>
      <tr>
         <td>13</td>
         <td>3</td>
         <td>Bully Pulpit</td>
         <td>425 555 6677</td>   
      </tr>
      <tr>
         <td>53</td>
         <td>3</td>
         <td>Rex Cars</td>
         <td>201 555 4433</td>
      </tr>
   </tbody>
</table>

<p>
The retrieved data is exposed by a <code><a href="../../../reference/android/database/Cursor.html">Cursor</a></code> 
object that can be used to iterate backward or forward through the result 
set.  You can use this object only to read the data.  To add, modify, or 
delete data, you must use a ContentResolver object.
<br>
获取的数据由 <code><a href="../../../reference/android/database/Cursor.html">Cursor</a></code> 
对象暴露出来，这个对象可以用来将读取位置在数据集中进行移动。这个对象只能用来读取数据。添加，修改或是删除数据，您必须使用内容解析者对象。</p>


<h3>Reading retrieved data——读取返回的数据</h3>

<p>
The Cursor object returned by a query provides access to a recordset of
results.  If you have queried for a specific record by ID, this set will
contain only one value.  Otherwise, it can contain multiple values.  
(If there are no matches, it can also be empty.)  You 
can read data from specific fields in the record, but you must know the 
data type of the field, because the Cursor object has a separate method
for reading each type of data &mdash; such as <code><code><a href="../../../reference/android/database/Cursor.html#getString(int)">getString()</a></code></code>, <code><code><a href="../../../reference/android/database/Cursor.html#getInt(int)">getInt()</a></code></code>, and <code><code><a href="../../../reference/android/database/Cursor.html#getFloat(int)">getFloat()</a></code></code>.  
(However, for most types, if you call the method for reading strings, 
the Cursor object will give you the String representation of the data.)  
The Cursor lets you request the column name from the index of the column, 
or the index number from the column name.
<br>
请求返回一个游标对象，您可以使用游标对象连接读取数据集中的值。如果您是使用ID请求的某个特定的对象，这个数据集就只包含一个记录。否则数据集则包含多个记录。（如果没有匹配的ID，还有可能是一个空集。）您可以读取记录中指定域中的值，但是您必须知道这个域中的数据类型，因为游标对象为每种数据类型分别提供了各自的读取数据的方法——比如，<code><a href="../../../reference/android/database/Cursor.html#getString(int)">getString()</a></code>, <code><a href="../../../reference/android/database/Cursor.html#getInt(int)">getInt()</a></code>,和 <code><a href="../../../reference/android/database/Cursor.html#getFloat(int)">getFloat()</a></code>。（但是，对于大多数类型来说，您都可以使用读取字符串的方法，这样游标对象会返回表示这个数据的字符串对象。）游标允许您使用列号得到列名，或是使用列名得到列号。</p>

<p>
The following snippet demonstrates reading names and phone numbers from
the query illustrated earlier:
<br>
下面的代码段演示了如何从上边的例子中获取的游标中获得数据：</p>

<pre>
import android.provider.Contacts.People;

private void getColumnData(Cursor cur){ 
    if (cur.moveToFirst()) {

        String name; 
        String phoneNumber; 
        int nameColumn = cur.getColumnIndex(People.NAME); 
        int phoneColumn = cur.getColumnIndex(People.NUMBER);
        String imagePath; 
    
        do {
            // Get the field values
		//获得域中的值
            name = cur.getString(nameColumn);
            phoneNumber = cur.getString(phoneColumn);
           
	    // Do something with the values. 
		//使用这些值完成您想要做的事
            ... 

        } while (cur.moveToNext());

    }
}
</pre>

<p>
If a query can return binary data, such as an image or sound, the data 
may be directly entered in the table or the table entry for that data may be
a string specifying a <code>content:</code> URI that you can use to get the data.  
In general, smaller amounts of data (say, from 20 to 50K or less) are most often 
directly entered in the table and can be read by calling 
<code><code><a href="../../../reference/android/database/Cursor.html#getBlob(int)">Cursor.getBlob()</a></code></code>.  
It returns a byte array.
<br>
如果某个请求会返回二进制数据，比如对图片或声音的请求，则返回的数据可能是直接的表中的数据，也有可能是指向这个域的URI（特殊的含有<code>content:</code> 
开头的字符串），您可以使用这个URI获取数据。通常情况下，数据量较小的时候（比如说，20到50k或更小）在存储时会直接写入表中，读取的时候可以使用 <code><a href="../../../reference/android/database/Cursor.html#getBlob(int)">Cursor.getBlob()</a></code>方法。这个方法会返回一个二进制位的数组。</p>
  
<p>
If the table entry is a <code>content:</code> URI, you should never try to open 
and read the file directly (for one thing, permissions problems can make this 
fail).  Instead, you should call 
<code><code><a href="../../../reference/android/content/ContentResolver.html#openInputStream(android.net.Uri)">ContentResolver.openInputStream()</a></code></code> to get an 
<code><a href="../../../reference/java/io/InputStream.html">InputStream</a></code> object that you can use to read the data.  
<br>
但是如果返回的是 <code>content:</code> 型的URI，那么您千万不要尝试打开然后直接读取文件（其中一个原因是权限问题）。您应该使用 <code><a href="../../../reference/android/content/ContentResolver.html#openInputStream(android.net.Uri)">ContentResolver.openInputStream()</a></code> 
方法获得一个 
<code><a href="../../../reference/java/io/InputStream.html">InputStream</a></code> 
对象，然后使用这个对象读取数据。</p>


<h2><a name="modifying"></a>Modifying Data——修改数据</h2>

<p>
Data kept by a content provider can be modified by:
<br>
由内容提供者控制的数据可以这样修改：</p>

<ul>
<p><li>Adding new records——添加记录</li>
<li>Adding new values to existing records——向已有记录添加值</li>
<li>Batch updating existing records——对已有记录进行批量更新</li>
<li>Deleting records——删除记录</li>
</ul>

<p>
All data modification is accomplished using <code><a href="../../../reference/android/content/ContentResolver.html">ContentResolver</a></code>
methods.  Some content providers require a more restrictive permission for writing
data than they do for reading it.  If you don't have permission to write to a 
content provider, the ContentResolver methods will fail.
<br>
所有的数据修改都是由&nbsp; <code><a href="../../../reference/android/content/ContentResolver.html">ContentResolver</a></code>&nbsp; 
的方法完成的。有些内容提供者对写数据的权限要求比读数据严格。如果您没有对某个内容提供者的写数据权限，那么这个内容解析者的方法就会失败。</p>


<h3>Adding records——添加记录</h3>

<p>
To add a new record to a content provider, first set up a map of key-value pairs 
in a <code><a href="../../../reference/android/content/ContentValues.html">ContentValues</a></code> object, where each key matches 
the name of a column in the content provider and the value is the desired 
value for the new record in that column.  Then call <code><code><a href="../../../reference/android/content/ContentResolver.html#insert(android.net.Uri, android.content.ContentValues)">ContentResolver.insert()</a></code></code> and pass 
it the URI of the provider and the ContentValues map.  This method returns 
the full URI of the new record &mdash; that is, the provider's URI with 
the appended ID for the new record.  You can then use this URI to query and 
get a Cursor over the new record, and to further modify the record.  
Here's an example:
<br>
向内容提供者添加一个新的记录，您需要首先在 <code><a href="../../../reference/android/content/ContentValues.html">ContentValues</a></code> 
对象中创建一系列键值对，每一个键是内容提供者的数据表的列名，值是您想要的这个记录在这个列上的值。然后您需要调用 <code><a href="../../../reference/android/content/ContentResolver.html#insert(android.net.Uri, android.content.ContentValues)">ContentResolver.insert()</a></code>方法，然后传入内容提供者的URI还有这个 <code><a href="../../../reference/android/content/ContentValues.html">ContentValues</a> </code> 
对象。这个方法返回新记录的完整URI——就是说，包含有的新记录的ID的内容提供者URI。之后您就可以这个URI发出请求，然后获得指向新添加的记录的游标，还可以对记录进行进一步的修改。下面是一个例子：</p>

<pre>
import android.provider.Contacts.People;
import android.content.ContentResolver;
import android.content.ContentValues; 

ContentValues values = new ContentValues();

	// Add Abraham Lincoln to contacts and make him a favorite.
	// 将 Abraham Lincoln 添加到联系人中，并将其设为常用联系人
values.put(People.NAME, "Abraham Lincoln");

	// 1 = the new contact is added to favorites
	// 1代表新联系人添加到常用
	// 0 = the new contact is not added to favorites
	// 0代表不添加

values.put(People.STARRED, 1);

Uri uri = getContentResolver().insert(People.CONTENT_URI, values);
</pre>


<h3>Adding new values——添加新值</h3>

<p>
Once a record exists, you can add new information to it or modify 
existing information.  For example, the next step in the example above would 
be to add contact information &mdash; like a phone number or an IM or e-mail 
address &mdash; to the new entry.  
<br>
一旦存在了一个记录，您就可以向其中添加新的信息，或是修改已有信息。例如，上边的例子下一步可能就是向新的记录中添加一些联系人的信息——比如电话号码，即时通信的账号，电子邮件地址等。</p>

<p>
The best way to add to a record in the Contacts database is to append 
the name of the table where the new data goes to the URI for the 
record, then use the amended URI to add the new data values.  Each
Contacts table exposes a name for this purpose as a <code>CONTENT_DIRECTORY</code> constant.  The following code continues the previous 
example by adding a phone number and e-mail address for the record
just created:
<br>
向联系人数据库中添加新的记录的最好方法是先向数据库中添加联系人的名字，然后使用返回的指向新记录的URI向记录中添加其他数据信息。每一个联系人表都会暴露名字这个域，因为需要被 <code>CONTENT_DIRECTORY</code> 
常量使用。下面的代码继续上边的例子，演示了如何向刚才创建的记录中添加电话号码和电子邮件地址信息：</p>

<pre>
Uri phoneUri = null;
Uri emailUri = null;

// Add a phone number for Abraham Lincoln.  Begin with the URI for
// the new record just returned by insert(); it ends with the _ID
// of the new record, so we don't have to add the ID ourselves.
// Then append the designation for the phone table to this URI,
// and use the resulting URI to insert the phone number.
	// 向刚才的 Abraham Lincoln 联系人添加电话号码。因为刚才 insert() 方法返回的URI包含记录的_ID，因此不用我们
	// 自己添加ID。
	// 然后您需要向URI中添加联系人电话号码这个地址（就是目标位置），然后使用修改后的URI添加电话号码



phoneUri = Uri.withAppendedPath(uri, People.Phones.CONTENT_DIRECTORY);

values.clear();
values.put(People.Phones.TYPE, People.Phones.TYPE_MOBILE);
values.put(People.Phones.NUMBER, "1233214567");
getContentResolver().insert(phoneUri, values);

// Now add an email address in the same way.
// 现在用类似的方法添加一个电子邮件地址。

emailUri = Uri.withAppendedPath(uri, People.ContactMethods.CONTENT_DIRECTORY);

values.clear();

// ContactMethods.KIND is used to distinguish different kinds of
// contact methods, such as email, IM, etc. 
//  ContactMethods.KIND 用来区别不同类型的联系方式，比如电子邮件，即时通信等等。

values.put(People.ContactMethods.KIND, Contacts.KIND_EMAIL);
values.put(People.ContactMethods.DATA, "test@example.com");
values.put(People.ContactMethods.TYPE, People.ContactMethods.TYPE_HOME);
getContentResolver().insert(emailUri, values);   
</pre>

<p>
You can place small amounts of binary data into a table by calling 
the version of <code><code><a href="../../../reference/android/content/ContentValues.html#put(java.lang.String, byte[])">ContentValues.put()</a></code></code> that takes a byte array.  
That would work for a small icon-like image or a short audio clip, for example.  
However, if you have a large amount of binary data to add, such as a photograph
or a complete song, put a <code>content:</code> URI for the data in the table and call
<code><code><a href="../../../reference/android/content/ContentResolver.html#openOutputStream(android.net.Uri)">ContentResolver.openOutputStream()</a></code></code> 
with the file's URI.  (That causes the content provider to store the data 
in a file and record the file path in a hidden field of the record.)
<br>
您可以一小群二进制数据直接放进表中，通过调用需要二进制数组的重载的 <code><a href="../../../reference/android/content/ContentValues.html#put(java.lang.String, byte[])">ContentValues.put()</a></code> 
方法。您可以用这个方法存储一个小的像图标似的图片，或是一小段音频。但是，如果二进制数据量过大，比如一张数码照片或一首完整的歌曲，您需要在表中放入这个数据的 <code>content:</code> 
型URI，然后使用二进制文件的URI调用<code><a href="../../../reference/android/content/ContentResolver.html#openOutputStream(android.net.Uri)">ContentResolver.openOutputStream()</a></code> 
方法（存储这种数据实际上是内容提供者将这些二进制数据存储进一个文件，然后将文件路径放入这个记录的一个隐藏域中。）。</p>

<p>
In this regard, the <code><a href="../../../reference/android/provider/MediaStore.html">MediaStore</a></code> content 
provider, the main provider that dispenses image, audio, and video 
data, employs a special convention:  The same URI that is used with 
<code>query()</code> or <code>managedQuery()</code> to get meta-information 
about the binary data (such as, the caption of a photograph or the
date it was taken) is used with <code>openInputStream()</code> 
to get the data itself.  Similarly, the same URI that is used with
<code>insert()</code> to put meta-information into a MediaStore record 
is used with <code>openOutputStream()</code> to place the binary data there.
The following code snippet illustrates this convention:
<br>
在存储和读取二进制数据这方面， <code><a href="../../../reference/android/provider/MediaStore.html">MediaStore</a></code> 
内容提供者，主要的管理图片，声音还有视频数据的内容提供者，使用了一种不同的机制：在 
<code>query()</code>中或 <code>managedQuery()</code> 
中使用二进制数据的URI获取的是数据的相关信息（比如，照片的标题，拍摄日期），在 <code>openInputStream()</code>中使用同一个URI获取的是数据本身。类似的，在
<code>insert()</code> 中使用URI会向表中插入数据的相关信息，在 <code>openOutputStream()</code>中使用同一个URI是向URI的地址中放入二进制数据。下边的代码段演示了这个机制：</p>

<pre>
import android.provider.MediaStore.Images.Media;
import android.content.ContentValues;
import java.io.OutputStream;

	// Save the name and description of an image in a ContentValues map.  
	// 向 ContentValues 对象中存入图像名字和简述的键值对

ContentValues values = new ContentValues(3);
values.put(Media.DISPLAY_NAME, "road_trip_1");
values.put(Media.DESCRIPTION, "Day 1, trip to Los Angeles");
values.put(Media.MIME_TYPE, "image/jpeg");

	// Add a new record without the bitmap, but with the values just set.
	// insert() returns the URI of the new record.
	// 添加一个新的记录，不向其中添加位图，而是向其中写入刚才创建的ContentValues 对象

Uri uri = getContentResolver().insert(Media.EXTERNAL_CONTENT_URI, values);

	// Now get a handle to the file for that record, and save the data into it.
	// Here, sourceBitmap is a Bitmap object representing the file to save to the database.
	// 现在可以获得一个要保存到那个记录的二进制文件的句柄，然后将数据存储到这个文件中。
	// 在这里， sourceBitmap 是一个位图对象，代表要存入数据库的二进制文件

try {
    OutputStream outStream = getContentResolver().openOutputStream(uri);
    sourceBitmap.compress(Bitmap.CompressFormat.JPEG, 50, outStream);
    outStream.close();
} catch (Exception e) {
    Log.e(TAG, "exception while writing image", e);
}
</pre>


<h3>Batch updating records——批量更新记录</h3>

<p>
To batch update a group of records (for example, to change "NY" to "New York" 
in all fields), call the <code><code><a href="../../../reference/android/content/ContentResolver.html#update(android.net.Uri, android.content.ContentValues, java.lang.String, java.lang.String[])">ContentResolver.update()</a></code></code> 
method with the columns and values to change.
<br>
如想要更新一组记录（例如将所有域中的“NY”改为“New York”），您可以调用 <code><a href="../../../reference/android/content/ContentResolver.html#update(android.net.Uri, android.content.ContentValues, java.lang.String, java.lang.String[])">ContentResolver.update()</a></code> 
方法，传入列名和药更新的值。</p>


<h3><a name="deletingrecord"></a>Deleting a record——删除记录</h3>

<p>
To delete a single record, call {<code><code><a href="../../../reference/android/content/ContentResolver.html#delete(android.net.Uri, java.lang.String, java.lang.String[])">ContentResolver.delete()</a></code></code> 
with the URI of a specific row.
<br>
您可以调用<code><a href="../../../reference/android/content/ContentResolver.html#delete(android.net.Uri, java.lang.String, java.lang.String[])">ContentResolver.delete()</a></code>传入您想要删除的记录行的URI来删除一个记录。</p>

<p>
To delete multiple rows, call <code><code><a href="../../../reference/android/content/ContentResolver.html#delete(android.net.Uri, java.lang.String, java.lang.String[])">ContentResolver.delete()</a></code></code> 
with the URI of the type of record to delete (for example, <code>android.provider.Contacts.People.CONTENT_URI</code>) and an SQL <code>WHERE</code> 
clause defining which rows to delete.  (<i><b>Caution</b>: 
Be sure to include a valid <code>WHERE</code> clause if you're deleting a general 
type, or you risk deleting more records than you intended!</i>).
<br>
如果您想要删除多个行，您可以调用 <code><a href="../../../reference/android/content/ContentResolver.html#delete(android.net.Uri, java.lang.String, java.lang.String[])">ContentResolver.delete()</a></code> 
，传入您要删除的类型的URI（例如，<code>android.provider.Contacts.People.CONTENT_URI</code>）还有一个SQL&nbsp; <code>WHERE</code> 
语句，指定您想要删除的行<em><strong>。（注意：</strong>如果您要删除一个含有项目较多的类型，请确保您的 </em> <code>WHERE</code><em> 
语句是正确的，如果不正确的话，有可能会删除非预期的项目。<strong>）</strong></em></p>


<h2><a name="creating"></a>Creating a Content Provider——创建一个内容提供者</h2>

<p>
To create a content provider, you must:
<br>
创建一个内容提供者，您需要：</p>

<ul>
<li>Set up a system for storing the data.  Most content providers 
store their data using Android's file storage methods or SQLite databases, 
but you can store your data any way you want.  Android provides the
<code><a href="../../../reference/android/database/sqlite/SQLiteOpenHelper.html">SQLiteOpenHelper</a></code>
class to help you create a database and <code><a href="../../../reference/android/database/sqlite/SQLiteDatabase.html">SQLiteDatabase</a></code> to manage it.<br>
创建一个数据存储系统。多数内容提供者是使用Android的文件系统方法或是SQLite数据库，但是您可以将您的数据存储到任何位置。Android提供了
<code><a href="../../../reference/android/database/sqlite/SQLiteOpenHelper.html">SQLiteOpenHelper</a></code>
类帮助您创建数据可和管理数据库的 <code><a href="../../../reference/android/database/sqlite/SQLiteDatabase.html">SQLiteDatabase</a></code> 
。</li>

<li><p>Extend the <code><a href="../../../reference/android/content/ContentProvider.html">ContentProvider</a></code> class to provide 
access to the data.<br>
继承 <code><a href="../../../reference/android/content/ContentProvider.html">ContentProvider</a></code> 
类，创建到数据的连接。</p></li>

<li><p>Declare the content provider in the manifest file for your 
application (AndroidManifest.xml).<br>
在您的应用程序的清单文件（AndroidManifest.xml）中声明您自己的内容提供者。</p></li>
</ul>

<p>
The following sections have notes on the last two of these tasks.
<br>
下面的部分介绍了后两部。</p>


<h3>Extending the ContentProvider class——继承 ContentProvider 类</h3>

<p>
You define a <code><a href="../../../reference/android/content/ContentProvider.html">ContentProvider</a></code> subclass to 
expose your data to others using the conventions expected by 
ContentResolver and Cursor objects.  Principally, this means 
implementing six abstract methods declared in the ContentProvider class:
<br>
</p>

<p style="margin-left: 2em"><code>query()</code>
<br/><code>insert()</code>
<br/><code>update()</code>
<br/><code>delete()</code>
<br/><code>getType()</code>
<br/><code>onCreate()</code></p>

<p>
The <code>query()</code> method must return a <code><a href="../../../reference/android/database/Cursor.html">Cursor</a></code> object 
that can iterate over the requested data.  Cursor itself is an interface, but
Android provides some ready-made Cursor objects that you can use.  For example,
<code><a href="../../../reference/android/database/sqlite/SQLiteCursor.html">SQLiteCursor</a></code> can iterate over data stored in
an SQLite database.  You get the Cursor object by calling any of the <code><a href="../../../reference/android/database/sqlite/SQLiteDatabase.html">SQLiteDatabase</a></code> class's <code>query()</code>
methods.  There are other Cursor implementations &mdash; such as <code><a href="../../../reference/android/database/MatrixCursor.html">MatrixCursor</a></code> &mdash; for data not stored in a database.
</p>

<p>
Because these ContentProvider methods can be called from 
various ContentResolver objects in different processes and threads, 
they must be implemented in a thread-safe manner. 
</p>

<p>
As a courtesy, you might also want to call <code><code><a href="../../../reference/android/content/ContentResolver.html#notifyChange(android.net.Uri, android.database.ContentObserver)">ContentResolver.notifyChange()</a></code></code> to notify listeners when there are 
modifications to the data. 
</p>

<p>
Beyond defining the subclass itself, there are other steps you should take
to simplify the work of clients and make the class more accessible: 
</p>

<ul>
<li>Define a <code>public static final</code> <code><a href="../../../reference/android/net/Uri.html">Uri</a></code> 
named <code>CONTENT_URI</code>.  This is the string that represents the full 
<code>content:</code> URI that your content provider handles.  You must define a 
unique string for this value.  The best solution is to use the fully-qualified 
class name of the content provider (made lowercase).  So, for example, the 
URI for a TransportationProvider class could be defined as follows:

<pre>public static final Uri CONTENT_URI = 
               Uri.parse("content://com.example.codelab.transporationprovider");</pre>

<p>
If the provider has subtables, also define <code>CONTENT_URI</code> constants for
each of the subtables.  These URIs should all have the same authority (since
that identifies the content provider), and be distinguished only by their paths. 
For example:
</p>

<p style="margin-left: 2em"><code>content://com.example.codelab.transporationprovider/train</code> 
<br/><code>content://com.example.codelab.transporationprovider/air/domestic</code>
<br/><code>content://com.example.codelab.transporationprovider/air/international</code></p>

<p>
For an overview of <code>content:</code> URIs, see the <a href="#urisum">Content URI 
Summary</a> at the end of this document.
</p></li>

<li><p>Define the column names that the content provider will return to clients. 
If you are using an underlying database, these column names are typically 
identical to the SQL database column names they represent.  Also define
<code>public static</code> String constants that clients can use to specify 
the columns in queries and other instructions.
</p>

<p>
Be sure to include an integer column named "<code>_id</code>" 
(with the constant <code>_ID</code>) for 
the IDs of the records.  You should have this field whether or not you have 
another field (such as a URL) that is also unique among all records.  If 
you're using the SQLite database, the <code>_ID</code> field should be the 
following type:
</p>

<p style="margin-left: 2em"><code>INTEGER PRIMARY KEY AUTOINCREMENT</code></p>

<p>
The <code>AUTOINCREMENT</code> descriptor is optional.  But without it, SQLite
increments an ID counter field to the next number above the largest
existing number in the column.  If you delete the last row, the next row added
will have the same ID as the deleted row.  <code>AUTOINCREMENT</code> avoids this 
by having SQLite increment to the next largest value whether deleted or not.
</p>
</li>

<li><p>Carefully document the data type of each column.  Clients need this
information to read the data.</p></li>

<li><p>If you are handling a new data type, you must define a new MIME type 
to return in your implementation of <code><code><a href="../../../reference/android/content/ContentProvider.html#getType(android.net.Uri)">ContentProvider.getType()</a></code></code>.  
The type depends in part on whether or not the <code>content:</code> URI submitted 
to <code>getType()</code> limits the request to a specific record.  There's one 
form of the MIME type for a single record and another for multiple records.  
Use the <code><a href="../../../reference/android/net/Uri.html">Uri</a></code> methods to help determine what is being 
requested.  Here is the general format for each type:</p></li>

<ul>
<li><p>For a single record:&nbsp;&nbsp;&nbsp; <code>vnd.android.cursor.item/vnd.<em>yourcompanyname.contenttype</em</code></p> 

<p>For example, a request for train record 122, like this URI,</p>
<p style="margin-left: 2em"><code>content://com.example.transportationprovider/trains/122</code></p>

<p>might return this MIME type:</p>
<p style="margin-left: 2em"><code>vnd.android.cursor.item/vnd.example.rail</code></p>
</li>

<li><p>For multiple records:&nbsp;&nbsp;&nbsp; <code>vnd.android.cursor.dir/vnd.<em>yourcompanyname.contenttype</em></code></p>

<p>For example, a request for all train records, like the following URI,</p>
<p style="margin-left: 2em"><code>content://com.example.transportationprovider/trains</code></p>

<p>might return this MIME type:</p>
<p style="margin-left: 2em"><code>vnd.android.cursor.dir/vnd.example.rail</code></p>
</li>
</ul>

<li><p>If you are exposing byte data that's too big to put in the table itself
&mdash; such as a large bitmap file &mdash; the field that exposes the
data to clients should actually contain a <code>content:</code> URI string.
This is the field that gives clients access to the data file.  The record 
should also have another field, named "<code>_data</code>" that lists the exact file 
path on the device for that file.  This field is not intended to be read by 
the client, but by the ContentResolver.  The client will call <code><code><a href="../../../reference/android/content/ContentResolver.html#openInputStream(android.net.Uri)">ContentResolver.openInputStream()</a></code></code> 
on the user-facing field holding the URI for the item.  The ContentResolver 
will request the "<code>_data</code>" field for that record, and because
it has higher permissions than a client, it should be able to access
that file directly and return a read wrapper for the file to the client.</p></li>

</ul>

<p>
For an example of a private content provider implementation, see the 
NodePadProvider class in the Notepad sample application that ships with the SDK.
</p>


<h3>Declaring the content provider</h3>

<p>
To let the Android system know about the content provider you've developed, 
declare it with a <code>&lt;provider&gt;</code> element in the application's 
AndroidManifest.xml file.  Content providers that are not declared in the
manifest are not visible to the Android system
</p>

<p>
The <code>name</code> attribute is the fully qualified name of the ContentProvider
subclass.  The <code>authorities</code> attribute is the authority part of the 
<code>content:</code> URI that identifies the provider.
For example if the ContentProvider subclass is AutoInfoProvider, the 
<code>&lt;provider&gt;</code> element might look like this:
</p>

<pre>
&lt;provider name="com.example.autos.AutoInfoProvider"
          authorities="com.example.autos.autoinfoprovider" 
          . . . /&gt
&lt;/provider&gt;
</pre>

<p>
Note that the <code>authorities</code> attribute omits the path part of a 
<code>content:</code> URI.  For example, if AutoInfoProvider controlled subtables
for different types of autos or different manufacturers,
</p>

<p style="margin-left: 2em"><code>content://com.example.autos.autoinfoprovider/honda</code>
<br/><code>content://com.example.autos.autoinfoprovider/gm/compact</code>
<br/><code>content://com.example.autos.autoinfoprovider/gm/suv</code></p>

<p>
those paths would not be declared in the manifest.  The authority is what 
identifies the provider, not the path; your provider can interpret the path 
part of the URI in any way you choose.
</p>

<p>
Other <code>&lt;provider&gt;</code> attributes can set permissions to read and 
write data, provide for an icon and text that can be displayed to users, 
enable and disable the provider, and so on.  Set the <code>multiprocess</code> 
attribute to "<code>true</code>" if data does not need to be synchronized between 
multiple running versions of the content provider.  This permits an instance 
of the provider to be created in each client process, eliminating the need 
to perform IPC. 
</p>


<h2><a name="urisum"></a>Content URI Summary</h2>

<p>
Here is a recap of the important parts of a content URI:
</p>

<p>
<img src="../../../images/content_uri.png" alt="Elements of a content URI" 
height="80" width="528">
</p>

<ol type="A">
<li>Standard prefix indicating that the data is controlled by a
content provider. It's never modified.</li>

<li><p>The authority part of the URI; it identifies the content provider. 
For third-party applications, this should be a fully-qualified class name 
(reduced to lowercase) to ensure uniqueness.  The authority is declared in 
the <code>&lt;provider&gt;</code> element's <code>authorities</code> attribute:</p>

<pre>&lt;provider name=".TransportationProvider"
          authorities="com.example.transportationprovider"
          . . .  &gt;</pre></li>

<li><p>The path that the content provider uses to determine what kind of data is
being requested.  This can be zero or more segments long.  If the content provider
exposes only one type of data (only trains, for example), it can be absent.
If the provider exposes several types, including subtypes, it can be several 
segments long &mdash; for example, "<code>land/bus</code>", "<code>land/train</code>", 
"<code>sea/ship</code>", and "<code>sea/submarine</code>" to give four possibilities.</p></li>

<li><p>The ID of the specific record being requested, if any.  This is the 
<code>_ID</code> value of the requested record.  If the request is not limited to
a single record, this segment and the trailing slash are omitted:</p>

<p style="margin-left: 2em"><code>content://com.example.transportationprovider/trains</code></p>
</li>
</ol>



    </div>

  <a href="#top" style="float:right">&uarr; Go to top</a>
  
  </div>

<div id="footer">


  <div id="copyright">
    
  Except as noted, this content is licensed under <a
  href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0</a>. 
  For details and restrictions, see the <a href="../../../license.html">
  Content License</a>.
  </div>
  <div id="build_info">
    
  Android 2.0.1&nbsp;r1 - 24 Nov 2009 18:21

  </div>

  <div id="footerlinks">
    
  <p>
    <a href="http://www.android.com/terms.html">Site Terms of Service</a> -
    <a href="http://www.android.com/privacy.html">Privacy Policy</a> -
    <a href="http://www.android.com/branding.html">Brand Guidelines</a>
  </p>
  </div>

</div> <!-- end footer -->

</div><!-- end doc-content -->

</div> <!-- end body-content --> 

<script type="text/javascript">
init(); /* initialize android-developer-docs.js */
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-5831155-1");
pageTracker._trackPageview();
</script>

</body>
</html>



